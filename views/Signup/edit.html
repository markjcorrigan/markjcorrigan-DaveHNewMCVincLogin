{% extends "base.html" %}

{% block title %}Edit User{% endblock %}

{% block body %}
<h1>Edit User</h1>
<p>Note:<br>Changes below will update your name, email and password on the database without email confirmation.<br>Please ensure you remember these changes.</p>

<form method="post" action="/signup/{{ user.id }}/update">

     <div class="form-group">
        <label for="inputName">Name</label>
        <input id="inputName" name="name" placeholder="Name" value="{{ user.name }}" autofocus class="form-control"  />
    </div>
    {% if errors.name is defined %}
    <p>{{ errors.name }}</p>
    {% endif %}
    <div class="form-group">

        <label for="inputEmail">Email address</label>
          <input id="inputEmail" name="email" placeholder="email address" value="{{ user.email }}" class="form-control"  />

    </div>
    {% if errors.email is defined %}
    <p>{{ errors.email }}</p>
    {% endif %}

    <div class="form-group">
        <label for="new_password">New Password</label>
        <input type="password" id="inputPassword" name="new_password" placeholder="New Password" class="form-control"  />
        <button type="button" id="eye">
            <img src="\images\eye.png" width="30px" height="30px" alt="eye"/>
        </button>
    </div>
    {% if errors.password is defined %}
    <p>{{ errors.password }}</p>
    {% endif %}
     <div class="form-group">
        <label for="confirm_new_password">Confirm New Password</label>
        <input type="password" id="confirm_new_password" name="confirm_new_password" placeholder="Confirm New Password" class="form-control"  />
  <button type="submit" class="btn btn-default">Update</button>
</form>
<p><a href="/signup/{{ user.id }}/show">Cancel</a></p>
<script>
    document.getElementById("eye").addEventListener("click", function (e) {
        let pwd = document.getElementById("inputPassword");
        if (pwd.getAttribute("type") == "password") {
            pwd.setAttribute("type", "text");
        } else {
            pwd.setAttribute("type", "password");
        }
    });
</script>
{% endblock %}


